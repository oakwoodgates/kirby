# Database Configuration
# IMPORTANT: Use 'timescaledb' for Docker deployments (default), 'localhost' for local development
# For Docker: postgresql+asyncpg://kirby:password@timescaledb:5432/kirby
# For local dev: postgresql+asyncpg://kirby:password@localhost:5432/kirby
DATABASE_URL=postgresql+asyncpg://kirby:your_secure_password_here@timescaledb:5432/kirby
DATABASE_POOL_SIZE=20
DATABASE_MAX_OVERFLOW=10

# PostgreSQL Configuration (for Docker Compose)
POSTGRES_DB=kirby
POSTGRES_USER=kirby
POSTGRES_PASSWORD=your_secure_password_here
POSTGRES_PORT=5432

# TimescaleDB specific
TIMESCALE_CHUNK_TIME_INTERVAL=1 day

# API Configuration
API_HOST=0.0.0.0
API_PORT=8000
API_WORKERS=4
API_RELOAD=false
API_LOG_LEVEL=info

# CORS Configuration (comma-separated origins)
CORS_ORIGINS=http://localhost:3000,http://localhost:8080

# Application Settings
ENVIRONMENT=development
LOG_LEVEL=info
LOG_FORMAT=json

# Exchange API Keys (if needed for private endpoints)
# Note: Currently not needed for public market data
# HYPERLIQUID_API_KEY=
# HYPERLIQUID_API_SECRET=

# Collector Settings
COLLECTOR_RESTART_DELAY=5
COLLECTOR_MAX_RETRIES=3
COLLECTOR_BACKFILL_ON_GAP=true

# Rate Limiting
HYPERLIQUID_RATE_LIMIT_PER_SECOND=10

# Monitoring & Health
HEALTH_CHECK_INTERVAL=60
DATA_FRESHNESS_THRESHOLD=300

# Cache Settings (for future use)
CACHE_ENABLED=false
CACHE_TTL=300

# pgAdmin Configuration (Database GUI)
PGADMIN_EMAIL=admin@example.com
PGADMIN_PASSWORD=admin
PGADMIN_PORT=5050

# Training Database Configuration (for ML/Backtesting with Binance, Bybit, etc.)
# This is a separate database from production to keep training data isolated
# IMPORTANT: Use 'timescaledb' for Docker deployments (default), 'localhost' for local development
TRAINING_DB=kirby_training
TRAINING_DATABASE_URL=postgresql+asyncpg://kirby:your_secure_password_here@timescaledb:5432/kirby_training
TRAINING_DATABASE_POOL_SIZE=10

# NordVPN Configuration (for accessing geo-restricted APIs)
# Required for backfilling training data from exchanges like Binance that have geo-blocks
#
# How to get your token:
# 1. Visit https://my.nordaccount.com
# 2. Navigate to Services → NordVPN → Access Token
# 3. Click "Generate new token" (choose 30-day or permanent)
# 4. Copy the token and paste it below
#
# IMPORTANT: Keep your token secure - treat it like a password!
NORDVPN_TOKEN=your_nordvpn_token_here
NORDVPN_COUNTRY=United_States
NORDVPN_TECHNOLOGY=NordLynx
#
# Available Technologies:
# - NordLynx (WireGuard) - Fastest, recommended (default)
# - OpenVPN - More compatible, slightly slower
#
# Country Examples (no spaces in name):
# - United_States, United_Kingdom, Canada, Netherlands, Germany, Japan
# - For full list: https://nordvpn.com/servers/
#
# Usage:
# Start VPN: docker compose up -d vpn
# Run training backfill: docker compose run --rm collector-training python -m scripts.backfill_training --coin=BTC --days=7
# Check VPN status: docker compose logs vpn
# Verify IP: docker compose exec vpn curl https://ipinfo.io/json
